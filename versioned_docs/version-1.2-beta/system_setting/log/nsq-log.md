# NSQæ—¥å¿—

## ç®€ä»‹

æ”¶é›†è¯·æ±‚ç½‘å…³çš„æ—¥å¿—ä¿¡æ¯ï¼Œå¹¶å°†å…¶è¾“å‡ºåˆ°`NSQ`ä¸­ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…è¿›è¡ŒäºŒæ¬¡æ“ä½œï¼Œå¦‚æ—¥å¿—åˆ†æç­‰ã€‚

## ç‰¹æ€§

èƒ½å¤Ÿå°†ç¨‹åºè¿è¡Œä¸­äº§ç”Ÿçš„æ—¥å¿—å†…å®¹è¾“å‡ºåˆ°æŒ‡å®š`NSQ`çš„Topicä¸­ã€‚

* æ”¯æŒå¡«å†™å¤šä¸ª`NSQD`è¯·æ±‚åœ°å€
* æ”¯æŒæ—¥å¿—è¾“å‡ºæ ¼å¼ç±»å‹
* æ”¯æŒè‡ªå®šä¹‰æ—¥å¿—æ ¼å¼åŒ–é…ç½®

## æ“ä½œæ¼”ç¤º

### æ–°å»ºNSQæ—¥å¿—é…ç½®

1. ç‚¹å‡»`è¿ç»´ä¸é›†æˆ` -> `NSQæ—¥å¿—`ï¼Œç‚¹å‡»`æ·»åŠ NSQæ—¥å¿—`ã€‚

![](images/2024-10-27/936703be2a7022424dadd0c2547848da320ea888223dbae357f56ed6243525e5.png)  
 

2. å¡«å†™NSQæ—¥å¿—é…ç½®ï¼Œå¡«å†™å®Œæˆåç‚¹å‡»`ç¡®è®¤`ã€‚

![](images/2024-10-27/39ac43d5308e20cf1ebc0a2374e63ffd72803d39de8e43fad99ddfd3a171b435.png)  

**é…ç½®è¯´æ˜**ï¼š

| å­—æ®µåç§°     | è¯´æ˜                                                         |
| ------------ | ------------------------------------------------------------ |
| NSQDåœ°å€åˆ—è¡¨ | NSQDæä¾›TCPæœåŠ¡çš„åœ°å€åˆ—è¡¨ï¼Œæ”¯æŒå¡«å†™å¤šä¸ªåœ°å€                  |
| Topic        | NSQDçš„Topicä¿¡æ¯                                              |
| é‰´æƒSecret   | é…ç½®è®¿é—®NSQDçš„é‰´æƒå¯†é’¥ä¿¡æ¯                                   |
| è¾“å‡ºæ ¼å¼     | è¾“å‡ºæ—¥å¿—å†…å®¹æ ¼å¼ï¼Œæ”¯æŒå•è¡Œã€Jsonæ ¼å¼è¾“å‡º                     |
| æ ¼å¼åŒ–é…ç½®   | è¾“å‡ºæ ¼å¼æ¨¡ç‰ˆï¼Œé…ç½®æ•™ç¨‹[ç‚¹æ­¤](https://help.apinto.com/docs/formatter)è¿›è¡Œè·³è½¬ |

**ç¤ºä¾‹æ ¼å¼åŒ–é…ç½®**

```json
{
   "fields": [
      "$time_iso8601",
      "$request_id",
      "@request",
      "@proxy",
      "@response",
      "@status_code",
      "@time"
   ],
   "request": [
      "$request_method",
      "$scheme",
      "$request_uri",
      "$host",
      "$header",
      "$remote_addr"
   ],
   "proxy": [
      "$proxy_method",
      "$proxy_scheme",
      "$proxy_uri",
      "$proxy_host",
      "$proxy_header",
      "$proxy_addr"
   ],
   "response": [
      "$response_headers"
   ],
   "status_code": [
      "$status",
      "$proxy_status"
   ],
   "time": [
      "$request_time",
      "$response_time"
   ]
}
```


### ä¸Šçº¿
1. ç‚¹å‡»å¾…ä¸Šçº¿é…ç½®åæ–¹çš„`ä¸Šçº¿`æŒ‰é’®ã€‚

![](images/2024-10-27/d0ed6a8ef56b7303297b97630d0ad2a99d11f834b9764660e6fb613fecd118c6.png)  

ğŸ‰APIPark è¿˜åˆšåˆšèµ·æ­¥ï¼Œæˆ‘ä»¬æœŸå¾…ä¸å¼€æºçˆ±å¥½è€…å…±åŒæ¢ç´¢ AI+API çš„æ— é™å¯èƒ½ã€‚æ‚¨çš„æ¯ä¸ª Issue å¯¹æˆ‘ä»¬æ¥è¯´éƒ½è‡³å…³é‡è¦ã€‚

ğŸ™å¦‚æœ APIPark å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œè¯·åœ¨ GitHub ä¸Šä¸ºæˆ‘ä»¬ç‚¹äº®æ˜Ÿæ˜Ÿï¼Œè®©æ›´å¤šäººå‘ç° APIParkã€‚ [è®¿é—®Github](https://github.com/APIParkLab/APIPark) 
 
